========================
:rust:`if` Expressions
========================

---------------------------------
Using :rust:`if` as a Statement
---------------------------------

- Evaluation from top to bottom
- The condition tests if a boolean expression evaluates to :rust:`true`
- Blocks are mandatory, no shorthand!
- Parentheses around the condition are optional
  - Using them is considered unidiomatic
- You may have zero or more :rust:`else if`, and zero or one final :rust:`else`

.. code:: rust

    fn main() {
        let coins = 800;
        if coins == 0 {
            println!("You have no gold. The dragon eats you.");
        } else if coins < 1000 {
            println!("A solid pouch! Buy a new sword!");
        } else {
            println!("New graphics card acquired.");
        }
    }

---------------------------------
Using :rust:`if` as an Expression
---------------------------------

* Every block is an expression that returns a value

.. code:: rust

    fn main() {
        let food = 80;
        let status = if food < 100 { 
            "Starving. Call the vet and the police." 
        } else { 
            "Full. Now demanding fresh water." 
        };
        println!("Pet Status: {}", status);
    }

.. note:: Note the :rust:`;` after the curly brace to terminate the let statement

---------------------------------------------------
Return Type Consistency in :rust:`if` Expressions
---------------------------------------------------

* All returned values, from all branches, must have the same type


  .. code:: rust

     let size = if x < 20 { "small"; } else { "large" };

  ::

     error[E0308]: `if` and `else` have incompatible types

- :rust:`"small"` and :rust:`"large"` are both strings
- But adding a :rust:`;` to one side makes the types different
