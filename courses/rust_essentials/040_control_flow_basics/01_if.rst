========================
:rust:`if` Expressions
========================

---------------------------------
Using :rust:`if` as a Statement
---------------------------------

- Blocks are mandatory, no shorthand!
- Parentheses around the condition are optional
  - Using them is considered unidiomatic
- The condition tests if a boolean expression evaluates to :rust:`true`
- You may have zero or more :rust:`else if`, and zero or one final :rust:`else`

.. code:: rust

    fn main() {
        let x = 800;
        if x == 0 {
            println!("You have no gold. The dragon eats you.");
        } else if x < 1000 {
            println!("A solid pouch! Buy a new sword!");
        } else {
            println!("New graphics card acquired.");
        }
    }

---------------------------------
Using :rust:`if` as an Expression
---------------------------------

- Every block is an expression that returns a value
- Note the :rust:`;` after the curly brace to terminate the let statement

.. code:: rust

    fn main() {
        let status = if 80 < 100 { 
            "Starving. Call the vet and the police." 
        } else { 
            "Full. Now demanding fresh water." 
        };
        println!("Pet Status: {}", status);
    }

---------------------------------------------------
Return Type Consistency in :rust:`if` Expressions
---------------------------------------------------

- All returned values, from all branches, must have the same type
- :rust:`"small"` and :rust:`"large"` are both strings
- But adding a :rust:`;` to one side makes the types different

  .. code:: rust

     let size = if x < 20 { "small"; } else { "large" };

  ::

     error[E0308]: `if` and `else` have incompatible types
